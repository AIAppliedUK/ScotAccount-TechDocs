<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  
  
  
  

  <title>Getting Started with ScotAccount | ScotAccount Technical Documentation</title>
  <meta name="description" content="Quick start guide for developers integrating with ScotAccount">

  
  <link rel="canonical" href="https://scotaccount.github.io/sg-identity-techdocs/getting-started/">

  
  <link rel="icon" type="image/x-icon" href="/sg-identity-techdocs/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/sg-identity-techdocs/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/sg-identity-techdocs/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/sg-identity-techdocs/favicon-16x16.png">
  <link rel="mask-icon" href="/sg-identity-techdocs/safari-pinned-tab.svg" color="#0065bd">

  
  <link rel="stylesheet" href="/sg-identity-techdocs/css/main.css">

  
  <meta property="og:title" content="Getting Started with ScotAccount">
  <meta property="og:description" content="Quick start guide for developers integrating with ScotAccount">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://scotaccount.github.io/sg-identity-techdocs/getting-started/">
  <meta property="og:image" content="https://scotaccount.github.io/sg-identity-techdocs/apple-touch-icon.png">

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "Getting Started with ScotAccount",
    "description": "Quick start guide for developers integrating with ScotAccount",
    "url": "https://scotaccount.github.io/sg-identity-techdocs/getting-started/",
    "image": "https://scotaccount.github.io/sg-identity-techdocs/apple-touch-icon.png",
    "author": {
      "@type": "Organization",
      "name": "Scottish Government",
      "url": "https://www.gov.scot"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Scottish Government",
      "url": "https://www.gov.scot"
    }
  }
  </script>
</head>

<body>
  <!-- Cookie banner and skip link as you had, if needed -->

  <header class="sg-header" role="banner">
    <div class="sg-header__wrapper">
      <div class="sg-header__branding">
        <a href="/sg-identity-techdocs/" class="sg-header__logo">
          <img src="/sg-identity-techdocs/assets/scotgovlogo.svg" alt="Scottish Government" class="sg-header__logo-image">
        </a>
      </div>
      <div class="sg-header__search">
        <form class="sg-header__search-form" role="search" action="/sg-identity-techdocs/search" method="get">
          <label for="search-input" class="sg-header__search-label">Search</label>
          <input type="search" id="search-input" name="q" class="sg-header__search-input" placeholder="Search">
          <button type="submit" class="sg-header__search-button" aria-label="Search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
              <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </header>

  
  <nav class="site-nav" role="navigation" aria-label="Main navigation">
    <div class="site-nav__wrapper">
      <ul class="site-nav__list" id="nav-menu">
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/" class="site-nav__link">
              Home
            </a>
          </li>
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/getting-started/" class="site-nav__link site-nav__link--active">
              Getting Started
            </a>
          </li>
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/architecture/" class="site-nav__link">
              Architecture
            </a>
          </li>
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/scotaccount-guide/" class="site-nav__link">
              Implementation Guide
            </a>
          </li>
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/scotaccount-complete-guide/" class="site-nav__link">
              Comprehensive Guide
            </a>
          </li>
        
          
          <li class="site-nav__item">
            <a href="/sg-identity-techdocs/scotaccount-token-validation-module/" class="site-nav__link">
              Token Validation
            </a>
          </li>
        
      </ul>
    </div>
  </nav>

  <div class="container">
    
    <aside class="sidebar" role="complementary" aria-label="Page navigation">
      <h3 class="sidebar__title">On this page</h3>
      <div class="sidebar__toc" id="page-toc">
        
      </div>
    </aside>

    <main class="main" id="main-content" role="main" tabindex="-1">
      <h1>Getting Started with ScotAccount</h1>
      <p class="lead">Quick start guide for developers integrating with ScotAccount</p>

      <p>Get up and running with ScotAccount in quickly. This guide covers the essential steps to integrate ScotAccount into your application.</p>
<h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2>
<p>Before you begin, ensure you have:</p>
<ul>
<li><strong>Development environment</strong> set up with HTTPS capability</li>
<li><strong>EC P-256 key pair</strong> Eliptic Curve keys generated using OpenSSL</li>
<li><strong>Basic understanding</strong> of OpenID Connect</li>
<li><strong>Access to ScotAccount</strong> Mock and Integration environment</li>
</ul>
<div class="callout callout--info">
<strong>Need help with key generation?</strong> See our <a href="/sg-identity-techdocs/scotaccount-complete-guide/#key-generation">complete key generation guide</a> for step-by-step instructions.
</div>
<h2 id="quick-start-checklist" tabindex="-1"><a class="header-anchor" href="#quick-start-checklist"><span>Quick Start Checklist</span></a></h2>
<h3 id="phase-1-setup-registration" tabindex="-1"><a class="header-anchor" href="#phase-1-setup-registration"><span>Phase 1: Setup &amp; Registration</span></a></h3>
<p>Before you begin, ensure you have completed the following configuration and preparation steps.</p>
<ol>
<li><strong>Generate key pair</strong> - Create EC P-256 keys</li>
<li><strong>Stored private key securely</strong> - Use a secrets manager (AWS Secrets Manager, Azure Key Vault) or suitable alternative</li>
<li><strong>Determine required scopes</strong> - Basic authentication or verified attributes</li>
<li><strong>Define redirect URIs</strong> - Set up callback URLs for your service</li>
<li><strong>Submit registration</strong> - Provide details and public key the to ScotAccount team</li>
<li><strong>Receive client_id</strong> - Get your unique client identifier</li>
</ol>
<h3 id="phase-2-basic-authentication" tabindex="-1"><a class="header-anchor" href="#phase-2-basic-authentication"><span>Phase 2: Basic Authentication</span></a></h3>
<p>The first step in your implementation is get the authentication flow working. This will prove connectivity and<br>
your applications ability to send requests to the ScotAccount serveice and handle the redirects to enable the<br>
user to complete the login steps necessary to complete authentication.</p>
<ol>
<li><strong>Implement discovery endpoint</strong> - Retrieve current configuration automatically</li>
<li><strong>Build PKCE parameters</strong> - Generate code verifier and challenge</li>
<li><strong>Create authorization request</strong> - Build secure authentication URL</li>
<li><strong>Implement callback handler</strong> - Process authentication response</li>
<li><strong>Build JWT client assertion</strong> - Use your private key for token requests</li>
<li><strong>Complete token exchange</strong> - Get access and ID tokens</li>
<li><strong>Validate ID tokens</strong> - Extract and verify user identity</li>
</ol>
<h3 id="phase-3-verified-attributes-optional" tabindex="-1"><a class="header-anchor" href="#phase-3-verified-attributes-optional"><span>Phase 3: Verified Attributes (Optional)</span></a></h3>
<ol>
<li><strong>Choose additional scopes</strong> - Select identity, address, or email verification</li>
<li><strong>Handle attribute requests</strong> - Manage user consent flow</li>
<li><strong>Process attribute responses</strong> - Parse verified claims data</li>
<li><strong>Validate and store data</strong> - Implement secure data handling</li>
</ol>
<h3 id="phase-4-production-deployment" tabindex="-1"><a class="header-anchor" href="#phase-4-production-deployment"><span>Phase 4: Production Deployment</span></a></h3>
<ol>
<li><strong>Update to production endpoints</strong> - Switch from integration to live URLs</li>
<li><strong>Implement monitoring</strong> - Add logging and error tracking</li>
<li><strong>Add error handling</strong> - Create user-friendly error messages</li>
<li><strong>Complete security review</strong> - Recommended: Run penetration testing</li>
</ol>
<h2 id="core-authentication-flow" tabindex="-1"><a class="header-anchor" href="#core-authentication-flow"><span>Core Authentication Flow</span></a></h2>
<p>The ScotAccount authentication process follows these key steps:</p>
<h3 id="1-discovery-configuration" tabindex="-1"><a class="header-anchor" href="#1-discovery-configuration"><span>1. Discovery Configuration</span></a></h3>
<p>First, retrieve the current configuration:</p>
<pre class="language-http"><code class="language-http">GET https://authz.integration.scotaccount.service.gov.scot/.well-known/openid-configuration</code></pre>
<p>This provides all endpoint URLs and supported features. Ensure your application leverages</p>
<h3 id="2-generate-security-parameters" tabindex="-1"><a class="header-anchor" href="#2-generate-security-parameters"><span>2. Generate Security Parameters</span></a></h3>
<p>During the first call to scotaccount, your application is responsible for implementing the PKCE client data and security required to succesfully implement an OIDC client.</p>
<p>Your application must generate:</p>
<ul>
<li><strong>Code verifier</strong> - Random string for PKCE security</li>
<li><strong>Code challenge</strong> - SHA256 hash of the verifier</li>
<li><strong>State parameter</strong> - Unique value to prevent CSRF attacks</li>
<li><strong>Nonce</strong> - Random value for replay protection</li>
</ul>
<h3 id="3-redirect-to-scotaccount" tabindex="-1"><a class="header-anchor" href="#3-redirect-to-scotaccount"><span>3. Redirect to ScotAccount</span></a></h3>
<p>Build the authorization URL and redirect users:</p>
<pre><code>https://authz.integration.scotaccount.service.gov.scot/authorize?
    client_id=your-client-id&amp;
    redirect_uri=https://yourservice.gov.scot/auth/callback&amp;
    response_type=code&amp;
    scope=openid&amp;
    state=your-state-value&amp;
    nonce=your-nonce-value&amp;
    code_challenge=your-code-challenge&amp;
    code_challenge_method=S256
</code></pre>
<h3 id="4-handle-callback" tabindex="-1"><a class="header-anchor" href="#4-handle-callback"><span>4. Handle Callback</span></a></h3>
<p>Users authenticate at ScotAccount and return to your callback URL:</p>
<pre><code>https://yourservice.gov.scot/auth/callback?
    code=authorization-code&amp;
    state=your-state-value
</code></pre>
<p><strong>Critical</strong>: Always validate the state parameter matches your original value.</p>
<h3 id="5-exchange-code-for-tokens" tabindex="-1"><a class="header-anchor" href="#5-exchange-code-for-tokens"><span>5. Exchange Code for Tokens</span></a></h3>
<p>Create a JWT client assertion and exchange the authorization code:</p>
<pre class="language-http"><code class="language-http">POST https://authz.integration.scotaccount.service.gov.scot/token
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/x-www-form-urlencoded</span></span>

grant_type=authorization_code&amp;
code=authorization-code&amp;
redirect_uri=https://yourservice.gov.scot/auth/callback&amp;
client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer&amp;
client_assertion=your-jwt-assertion&amp;
code_verifier=your-code-verifier</code></pre>
<h3 id="6-validate-and-use-tokens" tabindex="-1"><a class="header-anchor" href="#6-validate-and-use-tokens"><span>6. Validate and Use Tokens</span></a></h3>
<p>Extract user information from the ID token:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"sub"</span><span class="token operator">:</span> <span class="token string">"4f6893f4-6fbe-423e-a5cc-d3c93e5a7c41"</span><span class="token punctuation">,</span>
  <span class="token property">"aud"</span><span class="token operator">:</span> <span class="token string">"your-client-id"</span><span class="token punctuation">,</span>
  <span class="token property">"iss"</span><span class="token operator">:</span> <span class="token string">"https://authz.integration.scotaccount.service.gov.scot"</span><span class="token punctuation">,</span>
  <span class="token property">"nonce"</span><span class="token operator">:</span> <span class="token string">"your-nonce-value"</span><span class="token punctuation">,</span>
  <span class="token property">"sid"</span><span class="token operator">:</span> <span class="token string">"session-id-for-logout"</span>
<span class="token punctuation">}</span></code></pre>
<p>The <code>sub</code> claim contains the user’s persistent UUID identifier.</p>
<h2 id="key-security-requirements" tabindex="-1"><a class="header-anchor" href="#key-security-requirements"><span>Key Security Requirements</span></a></h2>
<h3 id="pkce-proof-key-for-code-exchange" tabindex="-1"><a class="header-anchor" href="#pkce-proof-key-for-code-exchange"><span>PKCE (Proof Key for Code Exchange)</span></a></h3>
<ul>
<li><strong>Always required</strong> for all authorization requests</li>
<li>Protects against authorization code interception attacks</li>
<li>Must use SHA256 method (<code>S256</code>)</li>
</ul>
<h3 id="state-parameter-validation" tabindex="-1"><a class="header-anchor" href="#state-parameter-validation"><span>State Parameter Validation</span></a></h3>
<ul>
<li><strong>Generate unique state</strong> for each authorization request</li>
<li><strong>Validate on callback</strong> - reject if missing or incorrect</li>
<li><strong>Store securely</strong> during the authentication flow</li>
</ul>
<h3 id="jwt-client-assertions" tabindex="-1"><a class="header-anchor" href="#jwt-client-assertions"><span>JWT Client Assertions</span></a></h3>
<ul>
<li><strong>Use your private key</strong> to sign assertions</li>
<li><strong>Include required claims</strong>: <code>iss</code>, <code>sub</code>, <code>aud</code>, <code>exp</code>, <code>iat</code>, <code>jti</code></li>
<li><strong>Set short expiration</strong> (recommended: 60 seconds)</li>
</ul>
<h3 id="id-token-validation" tabindex="-1"><a class="header-anchor" href="#id-token-validation"><span>ID Token Validation</span></a></h3>
<ul>
<li><strong>Verify signature</strong> using ScotAccount’s public keys</li>
<li><strong>Check audience</strong> matches your <code>client_id</code></li>
<li><strong>Validate issuer</strong> matches ScotAccount’s URL</li>
<li><strong>Confirm nonce</strong> matches your original value</li>
</ul>
<h2 id="common-integration-patterns" tabindex="-1"><a class="header-anchor" href="#common-integration-patterns"><span>Common Integration Patterns</span></a></h2>
<h3 id="session-management" tabindex="-1"><a class="header-anchor" href="#session-management"><span>Session Management</span></a></h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Store user session after successful authentication</span>
<span class="token keyword">const</span> userSession <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">uuid</span><span class="token operator">:</span> idToken<span class="token punctuation">.</span>sub<span class="token punctuation">,</span>
  <span class="token literal-property property">sessionId</span><span class="token operator">:</span> idToken<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>
  <span class="token literal-property property">authenticatedAt</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">expiresAt</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 1 hour</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><img src="/sg-identity-techdocs/assets/diagrams/auth-flow.png" alt="ScotAccount High-Level Architecture"></p>
<p><em>Figure: Illustration of authentication flow.</em></p>
<h3 id="logout-implementation" tabindex="-1"><a class="header-anchor" href="#logout-implementation"><span>Logout Implementation</span></a></h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Redirect to ScotAccount logout</span>
<span class="token keyword">const</span> logoutUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://authz.integration.scotaccount.service.gov.scot/authorize/logout?
  id_token_hint=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>idToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;
  post_logout_redirect_uri=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>postLogoutUrl<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;
  state=logout-state</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<h2 id="next-steps" tabindex="-1"><a class="header-anchor" href="#next-steps"><span>Next Steps</span></a></h2>
<div class="callout callout--success">
<strong>Ready for detailed implementation?</strong> Move on to the <a href="/sg-identity-techdocs/scotaccount-guide/">Implementation Guide</a> for technical details.
</div>
<div class="callout callout--info">
<strong>Need verified attributes?</strong> Learn about <a href="/sg-identity-techdocs/scotaccount-token-validation-module/">token validation</a> and attribute handling.
</div>
<div class="callout callout--warning">
<strong>Planning for production?</strong> Review the <a href="/sg-identity-techdocs/architecture/">architecture overview</a> to understand system components and scalability considerations.
</div>
<div class="callout callout--info">
<strong>Need a deeper dive on how ScotAcocunt works?</strong> Learn about <a href="/sg-identity-techdocs/scotaccount-complete-guide/">Comprehensive Implementation Guide</a> to understand the details regarding the implementation.
</div>
<h2 id="support-and-resources" tabindex="-1"><a class="header-anchor" href="#support-and-resources"><span>Support and Resources</span></a></h2>
<ul>
<li><strong>Integration support</strong>: Contact the ScotAccount team for technical assistance</li>
<li><strong>Testing environment</strong>: Use integration endpoints for development and testing</li>
<li><strong>Documentation</strong>: Refer to the comprehensive implementation guide for detailed implementation information</li>
<li><strong>Security</strong>: Follow all security requirements for production deployment</li>
</ul>


      
      <footer class="content-footer"><p><small>Last updated: 22 August 2025</small></p></footer>
      
    </main>
  </div>

  <footer class="sg-footer" role="contentinfo">
    <!-- your footer blocks as before -->
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
  <script src="/sg-identity-techdocs/js/search.js"></script>
  
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const tocContainer = document.getElementById('page-toc');
      const main = document.querySelector('.main');
      
      if (tocContainer && main) {
        // Find all h2, h3, and h4 headings with IDs
        const headings = main.querySelectorAll('h2[id], h3[id], h4[id]');
        
        if (headings.length > 0) {
          const tocList = document.createElement('ul');
          tocList.className = 'sidebar__nav';
          
          headings.forEach(heading => {
            const level = parseInt(heading.tagName.charAt(1));
            const listItem = document.createElement('li');
            listItem.className = 'sidebar__nav-item sidebar__nav-item--level-' + level;
            
            const link = document.createElement('a');
            link.href = '#' + heading.id;
            link.className = 'sidebar__nav-link';
            // Get text from the heading, excluding the anchor symbol
            const headingText = heading.querySelector('span') ? 
              heading.querySelector('span').textContent : 
              heading.textContent;
            link.textContent = headingText.replace('#', '').trim();
            
            // Add click handler for smooth scrolling
            link.addEventListener('click', function(e) {
              e.preventDefault();
              heading.scrollIntoView({ behavior: 'smooth' });
              // Update URL without jumping
              history.pushState(null, null, '#' + heading.id);
            });
            
            listItem.appendChild(link);
            tocList.appendChild(listItem);
          });
          
          tocContainer.appendChild(tocList);
          
          // Highlight current section on scroll
          let ticking = false;
          function updateTOC() {
            const scrollPosition = window.scrollY + 100;
            let currentSection = null;
            
            headings.forEach(heading => {
              if (heading.offsetTop <= scrollPosition) {
                currentSection = heading.id;
              }
            });
            
            // Update active link
            tocContainer.querySelectorAll('.sidebar__nav-link').forEach(link => {
              link.classList.remove('sidebar__nav-link--active');
              if (currentSection && link.getAttribute('href') === '#' + currentSection) {
                link.classList.add('sidebar__nav-link--active');
              }
            });
            
            ticking = false;
          }
          
          window.addEventListener('scroll', function() {
            if (!ticking) {
              window.requestAnimationFrame(updateTOC);
              ticking = true;
            }
          });
          
          // Initial update
          updateTOC();
        } else {
          // No headings found, hide the sidebar
          const sidebar = document.querySelector('.sidebar');
          if (sidebar) {
            sidebar.style.display = 'none';
          }
        }
      }
    });
  </script>
</body>
</html>
